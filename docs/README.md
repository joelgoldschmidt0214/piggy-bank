# Piggy Bank - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

## ğŸ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›®çš„

AIåˆ†ææ©Ÿèƒ½ã‚’å‚™ãˆãŸã€ãƒ¢ãƒ€ãƒ³ãªãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯å®¶è¨ˆç°¿ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ”¯å‡ºãƒ‡ãƒ¼ã‚¿ã‚’è¨˜éŒ²ã—ã€AIãŒè²¡å‹™ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’æä¾›ã—ã¾ã™ã€‚

## ğŸ“‹ ä¸»è¦æ©Ÿèƒ½

### âœ… å®Ÿè£…æ¸ˆã¿æ©Ÿèƒ½

- **ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼**: Google OAuth (BetterAuth)
- **æ”¯å‡ºè¨˜éŒ²**: ã‚¢ã‚¤ãƒ†ãƒ åã€é‡‘é¡ã€ã‚«ãƒ†ã‚´ãƒªã€ãƒ¡ãƒ¢
- **å–å¼•å±¥æ­´**: ä¸€è¦§è¡¨ç¤ºã€æ¤œç´¢ã€ç·¨é›†ã€å‰Šé™¤
- **AIåˆ†æ**: OpenAI API ã«ã‚ˆã‚‹è²¡å‹™ã‚¢ãƒ‰ãƒã‚¤ã‚¹
- **ãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–**: ã‚«ãƒ†ã‚´ãƒªåˆ¥é›†è¨ˆã€æœˆæ¬¡ãƒ¬ãƒãƒ¼ãƒˆ

### ğŸš§ ä»Šå¾Œã®å®Ÿè£…äºˆå®š

- **äºˆç®—ç®¡ç†**: æœˆæ¬¡äºˆç®—è¨­å®šã¨ã‚¢ãƒ©ãƒ¼ãƒˆ
- **ãƒ¬ã‚·ãƒ¼ãƒˆã‚¹ã‚­ãƒ£ãƒ³**: OCRã«ã‚ˆã‚‹è‡ªå‹•å…¥åŠ›
- **ãƒ‡ãƒ¼ã‚¿ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ**: CSV/PDFãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
- **ãƒãƒ«ãƒé€šè²¨å¯¾å¿œ**: å¤–è²¨è¨˜éŒ²ã¨æ›ç®—
- **ã‚°ãƒ«ãƒ¼ãƒ—å…±æœ‰**: å®¶æ—ãƒ»å‹äººã¨ã®æ”¯å‡ºå…±æœ‰
- **ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒª**: React Nativeç‰ˆ

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Frontend                             â”‚
â”‚  Next.js 15 (App Router) + TypeScript + Tailwind CSS       â”‚
â”‚              BetterAuth (Google OAuth)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ HTTPS
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Backend                              â”‚
â”‚         FastAPI + SQLAlchemy (Async) + Pydantic v2          â”‚
â”‚                    OpenAI API Integration                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ asyncpg
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Database                              â”‚
â”‚              PostgreSQL 15 (Supabase)                       â”‚
â”‚                  Row Level Security                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

è©³ç´°ã¯ [ARCHITECTURE.md](ARCHITECTURE.md) ã‚’å‚ç…§ã€‚

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«

### Users ãƒ†ãƒ¼ãƒ–ãƒ«

| Column | Type | Description |
|--------|------|-------------|
| id | INT | ä¸»ã‚­ãƒ¼ |
| auth_id | VARCHAR(255) | å¤–éƒ¨èªè¨¼ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ID |
| email | VARCHAR(255) | ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ |
| name | VARCHAR(255) | ãƒ¦ãƒ¼ã‚¶ãƒ¼å |
| avatar_url | VARCHAR(512) | ã‚¢ãƒã‚¿ãƒ¼ç”»åƒURL |
| created_at | TIMESTAMP | ä½œæˆæ—¥æ™‚ |
| updated_at | TIMESTAMP | æ›´æ–°æ—¥æ™‚ |

### Transactions ãƒ†ãƒ¼ãƒ–ãƒ«

| Column | Type | Description |
|--------|------|-------------|
| id | INT | ä¸»ã‚­ãƒ¼ |
| user_id | INT | ãƒ¦ãƒ¼ã‚¶ãƒ¼ID (FK) |
| item_name | VARCHAR(255) | ã‚¢ã‚¤ãƒ†ãƒ å |
| amount | INT | é‡‘é¡ï¼ˆå††ï¼‰ |
| category | VARCHAR(100) | ã‚«ãƒ†ã‚´ãƒª |
| note | VARCHAR(500) | ãƒ¡ãƒ¢ |
| created_at | TIMESTAMP | ä½œæˆæ—¥æ™‚ |
| updated_at | TIMESTAMP | æ›´æ–°æ—¥æ™‚ |

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ

### é–‹ç™ºç’°å¢ƒ (Local)

- **Frontend**: <http://localhost:3000>
- **Backend**: <http://localhost:8000>
- **Database**: localhost:5432 (Docker Compose)
- **Supabase Studio**: <http://localhost:3001>

### æœ¬ç•ªç’°å¢ƒ (Production)

- **Frontend**: Azure Static Web Apps / Vercel
- **Backend**: Azure Container Apps
- **Database**: Supabase (Production)
- **Monitoring**: Azure Application Insights

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

- **èªè¨¼**: OAuth 2.0 (Google)
- **ã‚»ãƒƒã‚·ãƒ§ãƒ³**: HttpOnly Cookie + CSRF Token
- **API**: JWT Bearer Token
- **Database**: Row Level Security (RLS)
- **é€šä¿¡**: HTTPS/TLS 1.3
- **ä¾å­˜é–¢ä¿‚**: Renovateè‡ªå‹•æ›´æ–° + Trivyè„†å¼±æ€§ã‚¹ã‚­ãƒ£ãƒ³
- **Secrets**: Azure Key Vault / GitHub Secrets

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

### Frontend

```bash
cd frontend
pnpm test          # Jest + React Testing Library
pnpm test:watch    # Watch mode
pnpm test:coverage # ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆ
```

### Backend

```bash
cd backend
uv run pytest              # pytest
uv run pytest --cov=app    # ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ã
uv run pytest -v           # è©³ç´°è¡¨ç¤º
```

## ğŸ“ˆ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›®æ¨™

- **Frontend First Paint**: < 1.0s
- **API Response Time**: < 200ms (p95)
- **Database Query**: < 50ms (p95)
- **AI Analysis**: < 3s
- **Lighthouse Score**: > 90

## ğŸ› ï¸ é–‹ç™ºãƒ„ãƒ¼ãƒ«

- **ãƒ„ãƒ¼ãƒ«ãƒã‚§ãƒ¼ãƒ³ç®¡ç†**: mise (Node.js, pnpm, Python, uv, Terraform ã‚’ä¸€å…ƒç®¡ç†)
- **ã‚¿ã‚¹ã‚¯ãƒ©ãƒ³ãƒŠãƒ¼**: Just (ã™ã¹ã¦ã®ã‚³ãƒãƒ³ãƒ‰ã‚’çµ±ä¸€çš„ã«å®Ÿè¡Œ)
- **IDE**: VS Code + æ‹¡å¼µæ©Ÿèƒ½æ¨å¥¨
- **Linter**: ESLint (Frontend) / Ruff (Backend)
- **Formatter**: Prettier (Frontend) / Ruff (Backend)
- **Type Checker**: TypeScript / Mypy
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: Trivy (è„†å¼±æ€§ãƒ»è¨­å®šãƒ»ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚¹ã‚­ãƒ£ãƒ³)
- **CI/CD**: GitHub Actions (mise-action@v2 åˆ©ç”¨)
- **Git Hooks**: Husky + lint-staged (TODO)

## ğŸ“š ãƒªãƒ³ã‚¯

- [ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰](SETUP.md)
- [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ](ARCHITECTURE.md)
- [APIä»•æ§˜æ›¸](API.md)
- [Contributing Guide](../CONTRIBUTING.md)

## ğŸ“ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License - See [LICENSE](../LICENSE) file for details

## ğŸ‘¥ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚¿ãƒ¼

- [Your Name] - Initial work

---

**æœ€çµ‚æ›´æ–°**: 2026å¹´1æœˆ28æ—¥
